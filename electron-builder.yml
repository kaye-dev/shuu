appId: kei.azu.shuu
productName: Shuu
asar: true

directories:
  buildResources: assets
  output: out/build

files:
  - out/main
  - out/preload
  - out/renderer
  - package.json
  - '!**/.vscode/*'
  - '!src/renderer/src/assets/directory-agents'

# rendererフォルダをResourcesディレクトリに明示的に配置する
extraFiles:
  - from: "out/renderer"
    to: "renderer"
    filter: "**/*"

asarUnpack:
  - "assets/**"

extraResources:
  - from: './assets'
    to: 'assets'

mac:
  target:
    # Apple Silicon（arm64）を優先
    - target: default
      arch:
        - "arm64"  # Apple Siliconを優先
  type: distribution
  hardenedRuntime: true
  entitlements: assets/entitlements.mac.plist
  entitlementsInherit: assets/entitlements.mac.plist
  extendInfo:
    - NSCameraUsageDescription: アプリケーションがカメラへのアクセスを要求しています。
    - NSMicrophoneUsageDescription: アプリケーションがマイクへのアクセスを要求しています。
    - NSDocumentsFolderUsageDescription: アプリケーションがドキュメントフォルダへのアクセスを要求しています。
    - NSDownloadsFolderUsageDescription: アプリケーションがダウンロードフォルダへのアクセスを要求しています。
  gatekeeperAssess: false
  notarize: false
  icon: assets/icon.icns

win:
  target:
    - nsis
  icon: assets/icon.ico

linux:
  target:
    - AppImage
  category: Development

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

npmRebuild: false

publish:
  provider: github
  owner: electron-react-boilerplate
  repo: electron-react-boilerplate
